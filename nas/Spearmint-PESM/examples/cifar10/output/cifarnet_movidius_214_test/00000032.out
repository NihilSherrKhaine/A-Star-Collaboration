Job launching after 0.25 seconds in submission.
Running python job.
Changed into dir /home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10
Importing train_eval_image_classifier_movidius.py
Running train_eval_image_classifier_movidius.main()
WARNING:tensorflow:From /home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_movidius.py:419: create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.create_global_step
_-2_-1_4_7_0_0_7_6_0_0_6_7_2_2_3_0_-1_2_7_6
[-2, -1, 4, 7, 0, 0, 7, 6, 0, 0, 6, 7, 2, 2, 3, 0, -1, 2, 7, 6]
train model
cifar10
output dimension of o1 for cell 0 block 0 with input -2 and operation 5x5_depth_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 0 with input -1 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 1 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 1 with input 0 and operation 7x7_depth_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 2 with input 0 and operation 7x7_depth_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 2 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 3 with input 2 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 3 with input 2 and operation 3x3_max_pool:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 4 with input -1 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 4 with input 2 and operation 7x7_depth_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 0 with input -2 and operation 5x5_depth_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 0 with input -1 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 1 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 1 with input 0 and operation 7x7_depth_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 2 with input 0 and operation 7x7_depth_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 2 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 3 with input 2 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 3 with input 2 and operation 3x3_max_pool:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 4 with input -1 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 4 with input 2 and operation 7x7_depth_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 2 block 0 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 0 with input -1 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 1 with input 0 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 1 with input 0 and operation 7x7_depth_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 2 with input 0 and operation 7x7_depth_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 3 with input 2 and operation 3x3_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 3 with input 2 and operation 3x3_max_pool:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 4 with input -1 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 4 with input 2 and operation 7x7_depth_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 3 block 0 with input -2 and operation 5x5_depth_conv:
[32, 32, 32, 48]
output dimension of o2 for cell 3 block 0 with input -1 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 3 block 1 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 3 block 1 with input 0 and operation 7x7_depth_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 3 block 2 with input 0 and operation 7x7_depth_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 3 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 3 block 3 with input 2 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 3 block 3 with input 2 and operation 3x3_max_pool:
[32, 16, 16, 48]
output dimension of o1 for cell 3 block 4 with input -1 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 3 block 4 with input 2 and operation 7x7_depth_conv:
[32, 16, 16, 48]
outpWARNING:tensorflow:From /home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_movidius.py:489: softmax_cross_entropy (from tensorflow.contrib.losses.python.losses.loss_ops) is deprecated and will be removed after 2016-12-30.
Instructions for updating:
Use tf.losses.softmax_cross_entropy instead. Note that the order of the logits and labels arguments has been changed.
WARNING:tensorflow:From /home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/contrib/losses/python/losses/loss_ops.py:398: compute_weighted_loss (from tensorflow.contrib.losses.python.losses.loss_ops) is deprecated and will be removed after 2016-12-30.
Instructions for updating:
Use tf.losses.compute_weighted_loss instead.
WARNING:tensorflow:From /home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/contrib/losses/python/losses/loss_ops.py:151: add_loss (from tensorflow.contrib.losses.python.losses.loss_ops) is deprecated and will be removed after 2016-12-30.
Instructions for updating:
Use tf.losses.add_loss instead.
INFO:tensorflow:Summary name /clone_loss is illegal; using clone_loss instead.
ut dimension of o1 for cell 4 block 0 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 0 with input -1 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 1 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 1 with input 0 and operation 7x7_depth_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 2 with input 0 and operation 7x7_depth_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 3 with input 2 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 3 with input 2 and operation 3x3_max_pool:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 4 with input -1 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 4 with input 2 and operation 7x7_depth_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 5 block 0 with input -2 and operation 5x5_depth_conv:
[32, 8, 8, 48]
output dimension of o2 for cell 5 block 0 with input -1 and operation 7x7_conv:
[32, 8, 8, 48]
output dimension of o1 for cell 5 block 1 with input 0 and operation 7x7_conv:
[32, 8, 8, 48]
output dimension of o2 for cell 5 block 1 with input 0 and operation 7x7_depth_conv:
[32, 8, 8, 48]
output dimension of o1 for cell 5 block 2 with input 0 and operation 7x7_depth_conv:
[32, 8, 8, 48]
output dimension of o2 for cell 5 block 2 with input 0 and operation 7x7_conv:
[32, 8, 8, 48]
output dimension of o1 for cell 5 block 3 with input 2 and operation 3x3_conv:
[32, 8, 8, 48]
output dimension of o2 for cell 5 block 3 with input 2 and operation 3x3_max_pool:
[32, 8, 8, 48]
output dimension of o1 for cell 5 block 4 with input -1 and operation 7x7_conv:
[32, 8, 8, 48]
output dimension of o2 for cell 5 block 4 with input 2 and operation 7x7_depth_conv:
[32, 8, 8, 48]
output dimension of o1 for cell 6 block 0 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 6 block 0 with input -1 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 6 block 1 with input 0 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 6 block 1 with input 0 and operation 7x7_depth_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 6 block 2 with input 0 and operation 7x7_depth_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 6 block 2 with input 0 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 6 block 3 with input 2 and operation 3x3_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 6 block 3 with input 2 and operation 3x3_max_pool:
[32, 8, 8, 96]
output dimension of o1 for cell 6 block 4 with input -1 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 6 block 4 with input 2 and operation 7x7_depth_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 7 block 0 with input -2 and operation 5x5_depth_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 7 block 0 with input -1 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 7 block 1 with input 0 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 7 block 1 with input 0 and operation 7x7_depth_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 7 block 2 with input 0 and operation 7x7_depth_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 7 block 2 with input 0 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o1 for cell 7 block 3 with input 2 and operation 3x3_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 7 block 3 with input 2 and operation 3x3_max_pool:
[32, 8, 8, 96]
output dimension of o1 for cell 7 block 4 with input -1 and operation 7x7_conv:
[32, 8, 8, 96]
output dimension of o2 for cell 7 block 4 with input 2 and operation 7x7_depth_conv:
[32, 8, 8, 96]
final output shape
(32, 1, 1, 288)
Traceback (most recent call last):
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/spearmint/launcher.py", line 245, in launch
    result = python_launcher(job)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/spearmint/launcher.py", line 330, in python_launcher
    result = module.main(job['id'], params)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_movidius.py", line 878, in main
    train_model(candidate, N, F)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_movidius.py", line 555, in train_model
    var_list=variables_to_train)
  File "/home/lile/Projects/git_repo/hacone/tensorflow/slim/deployment/model_deploy.py", line 297, in optimize_clones
    optimizer, clone, num_clones, regularization_losses, **kwargs)
  File "/home/lile/Projects/git_repo/hacone/tensorflow/slim/deployment/model_deploy.py", line 261, in _optimize_clone
    clone_grad = optimizer.compute_gradients(sum_loss, **kwargs)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py", line 414, in compute_gradients
    colocate_gradients_with_ops=colocate_gradients_with_ops)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py", line 581, in gradients
    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py", line 353, in _MaybeCompile
    return grad_fn()  # Exit early
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/ops/gradients_impl.py", line 581, in <lambda>
    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/ops/nn_grad.py", line 474, in _Conv2DGrad
    data_format),
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py", line 779, in conv2d_backprop_input
    use_cudnn_on_gpu=use_cudnn_on_gpu, data_format=data_format, name=name)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py", line 2958, in create_op
    set_shapes_for_outputs(ret)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py", line 2209, in set_shapes_for_outputs
    shapes = shape_func(op)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py", line 2159, in call_with_requiring
    return call_cpp_shape_fn(op, require_shape_fn=True)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/common_shapes.py", line 627, in call_cpp_shape_fn
    require_shape_fn)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/common_shapes.py", line 653, in _call_cpp_shape_fn_impl
    graph_def_version = op.graph.graph_def_versions.producer
KeyboardInterrupt
Problem executing the function
Job failed in 3.65 seconds.
(<type 'exceptions.KeyboardInterrupt'>, KeyboardInterrupt(), <traceback object at 0x7f3e3b5e9128>)
