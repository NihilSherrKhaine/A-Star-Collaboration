Job launching after 0.24 seconds in submission.
Running python job.
Changed into dir /home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10
Importing train_eval_image_classifier_jetson.py
Running train_eval_image_classifier_jetson.main()
WARNING:tensorflow:From /home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_jetson.py:419: create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.create_global_step
_-2_-2_0_3_-2_-2_4_7_-2_0_5_7_-2_0_7_7_3_1_3_3
[-2, -2, 0, 3, -2, -2, 4, 7, -2, 0, 5, 7, -2, 0, 7, 7, 3, 1, 3, 3]
train model
cifar10
output dimension of o1 for cell 0 block 0 with input -2 and operation 3x3_max_pool:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 0 with input -2 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 1 with input -2 and operation 5x5_depth_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 1 with input -2 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 2 with input -2 and operation 5x5_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 2 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 3 with input -2 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 3 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 0 block 4 with input 3 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 0 block 4 with input 1 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 0 with input -2 and operation 3x3_max_pool:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 0 with input -2 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 1 with input -2 and operation 5x5_depth_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 1 with input -2 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 2 with input -2 and operation 5x5_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 2 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 3 with input -2 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 3 with input 0 and operation 7x7_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 1 block 4 with input 3 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o2 for cell 1 block 4 with input 1 and operation 3x3_conv:
[32, 32, 32, 24]
output dimension of o1 for cell 2 block 0 with input -2 and operation 3x3_max_pool:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 0 with input -2 and operation 3x3_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 1 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 1 with input -2 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 2 with input -2 and operation 5x5_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 3 with input -2 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 3 with input 0 and operation 7x7_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 2 block 4 with input 3 and operation 3x3_conv:
[32, 16, 16, 24]
output dimension of o2 for cell 2 block 4 with input 1 and operation 3x3_conv:
[32, 16, 16, 24]
output dimension of o1 for cell 3 block 0 with input -2 and operation 3x3_max_pool:
[32, 32, 32, 48]
output dimension of o2 for cell 3 block 0 with input -2 and operation 3x3_conv:
[32, 32, 32, 48]
output dimension of o1 for cell 3 block 1 with input -2 and operation 5x5_depth_conv:
[32, 32, 32, 48]
output dimension of o2 for cell 3 block 1 with input -2 and operation 7x7_conv:
[32, 32, 32, 48]
output dimension of o1 for cell 3 block 2 with input -2 and operation 5x5_conv:
[32, 32, 32, 48]
output dimension of o2 for cell 3 block 2 with input 0 and operation 7x7_conv:
[32, 32, 32, 48]
output dimension of o1 for cell 3 block 3 with input -2 and operation 7x7_conv:
[32, 32, 32, 48]
output dimension of o2 for cell 3 block 3 with input 0 and operation 7x7_conv:
[32, 32, 32, 48]
output dimension of o1 for cell 3 block 4 with input 3 and operation 3x3_conv:
[32, 32, 32, 48]
output dimension of o2 for cell 3 block 4 with input 1 and operation 3x3_conv:
[32, 32, 32, 48]
output dimension of o1 for cell 4 block 0 with input -2 anWARNING:tensorflow:From /home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_jetson.py:489: softmax_cross_entropy (from tensorflow.contrib.losses.python.losses.loss_ops) is deprecated and will be removed after 2016-12-30.
Instructions for updating:
Use tf.losses.softmax_cross_entropy instead. Note that the order of the logits and labels arguments has been changed.
d operation 3x3_max_pool:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 0 with input -2 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 1 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 1 with input -2 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 2 with input -2 and operation 5x5_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 3 with input -2 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 3 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 4 block 4 with input 3 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 4 block 4 with input 1 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 5 block 0 with input -2 and operation 3x3_max_pool:
[32, 16, 16, 48]
output dimension of o2 for cell 5 block 0 with input -2 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 5 block 1 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 5 block 1 with input -2 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 5 block 2 with input -2 and operation 5x5_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 5 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 5 block 3 with input -2 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 5 block 3 with input 0 and operation 7x7_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 5 block 4 with input 3 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o2 for cell 5 block 4 with input 1 and operation 3x3_conv:
[32, 16, 16, 48]
output dimension of o1 for cell 6 block 0 with input -2 and operation 3x3_max_pool:
[32, 16, 16, 96]
output dimension of o2 for cell 6 block 0 with input -2 and operation 3x3_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 6 block 1 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 6 block 1 with input -2 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 6 block 2 with input -2 and operation 5x5_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 6 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 6 block 3 with input -2 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 6 block 3 with input 0 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 6 block 4 with input 3 and operation 3x3_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 6 block 4 with input 1 and operation 3x3_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 7 block 0 with input -2 and operation 3x3_max_pool:
[32, 16, 16, 96]
output dimension of o2 for cell 7 block 0 with input -2 and operation 3x3_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 7 block 1 with input -2 and operation 5x5_depth_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 7 block 1 with input -2 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 7 block 2 with input -2 and operation 5x5_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 7 block 2 with input 0 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 7 block 3 with input -2 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 7 block 3 with input 0 and operation 7x7_conv:
[32, 16, 16, 96]
output dimension of o1 for cell 7 block 4 with input 3 and operation 3x3_conv:
[32, 16, 16, 96]
output dimension of o2 for cell 7 block 4 with input 1 and operation 3x3_conv:
[32, 16, 16, 96]
final output shape
(32, 9, 9, 192)
Traceback (most recent call last):
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/spearmint/launcher.py", line 245, in launch
    result = python_launcher(job)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/spearmint/launcher.py", line 330, in python_launcher
    result = module.main(job['id'], params)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_jetson.py", line 788, in main
    train_model(candidate, N, F)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_jetson.py", line 495, in train_model
    clones = model_deploy.create_clones(deploy_config, clone_fn, [batch_queue])
  File "/home/lile/Projects/git_repo/hacone/tensorflow/slim/deployment/model_deploy.py", line 193, in create_clones
    outputs = model_fn(*args, **kwargs)
  File "/home/data/Projects/git_repo/hacone/Spearmint-PESM/examples/cifar10/train_eval_image_classifier_jetson.py", line 489, in clone_fn
    logits, labels, label_smoothing=FLAGS.label_smoothing, weights=1.0)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/util/deprecation.py", line 136, in new_func
    return func(*args, **kwargs)
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/contrib/losses/python/losses/loss_ops.py", line 384, in softmax_cross_entropy
    logits.get_shape().assert_is_compatible_with(onehot_labels.get_shape())
  File "/home/lile/Projects/.virtualenvs/nn_search/local/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py", line 753, in assert_is_compatible_with
    raise ValueError("Shapes %s and %s are incompatible" % (self, other))
ValueError: Shapes (2592, 10) and (32, 10) are incompatible
Problem executing the function
Job failed in 2.19 seconds.
(<type 'exceptions.ValueError'>, ValueError('Shapes (2592, 10) and (32, 10) are incompatible',), <traceback object at 0x7fed3edf7170>)
